<app-loader></app-loader>
<div class="col-md-3 left_col menu_fixed w230 scrollbar">
  <div class="left_col scroll-view">
      <div class="navbar nav_title" style="border: 0;">
          <a href="index.html" class="site_title p10"><img src="assets/images/left-logo.png" class="img-responsive"><span></span></a>
      </div>
      <div class="clearfix"></div>
      <!-- menu profile quick info -->
      <div class="profile">
          <div class="profile_pic">
            <img src="{{url}}" alt=""  class="img-circle profile_img"/>
          </div>
          <div class="profile_info">
              <span>Welcome</span>
              <h2>{{name}}</h2>
          </div>
      </div>
      <!-- /menu profile quick info -->
      <br />
      <!-- sidebar menu -->
      <div id="sidebar-menu" class="main_menu_side hidden-print main_menu">
        <div class="menu_section">
            <br><br><br>
            <ul class="nav side-menu">
                <li>
                    <a id="dashboard" (click)="dash()">
                        <i class="fa fa-home"></i>
                        Dashboard
                        <span id="dashboardchevron" class="fa fa-chevron-down"></span>
                    </a>
                    <!-- <ul class="nav child_menu">
                        <li><a href="index2.html">Dashboard2</a></li>
                        <li><a href="index3.html">Dashboard3</a></li>
                    </ul> -->
                </li>

                <li>
                    <a id="quarterly_updates" (click)="qupdates()">
                        <i class="fa fa-desktop"></i>
                            Quarterly Updates
                        <span id="quarterlyupdateschevron" class="fa fa-chevron-down"></span>
                    </a>
                </li>
                <li>
                    <a id="charp_updates" (click)="cupdates()">
                        <i class="fa fa-desktop"></i>
                            Charp Updates
                        <span id="charpupdateschevron" class="fa fa-chevron-down"></span>
                    </a>
                </li>
                <li>
                  <a id="charp_updates" (click)="kpiAll()">
                      <i class="fa fa-desktop"></i>
                          Kpi
                      <span id="charpupdateschevron" class="fa fa-chevron-down"></span>
                  </a>
              </li>
              <li>
                <a id="charp_updates" (click)="mileAll()">
                    <i class="fa fa-desktop"></i>
                        Milestone
                    <span id="charpupdateschevron" class="fa fa-chevron-down"></span>
                </a>
            </li>
                <li>
                  <a id="charp_updates" (click)="rvQuestion()">
                      <i class="fa fa-desktop"></i>
                          Review Questions
                      <span id="charpupdateschevron" class="fa fa-chevron-down"></span>
                  </a>
              </li>
              <li>
                <a id="quarterly_updates" (click)="rDept()" *ngIf="userRole === 'admin'">
                    <i class="fa fa-desktop"></i>
                    Department
                    <span id="quarterlyupdateschevron" class="fa fa-chevron-down"></span>
                </a>
            </li>
            <li>
                <a id="charp_updates" (click)="rUser()" *ngIf="userRole === 'admin'">
                    <i class="fa fa-desktop"></i>
                        Roles
                    <span id="charpupdateschevron" class="fa fa-chevron-down"></span>
                </a>
            </li>
            <li>
              <a id="charp_updates" (click)="rUsers()" *ngIf="userRole === 'admin'">
                  <i class="fa fa-desktop"></i>
                      Users
                  <span id="charpupdateschevron" class="fa fa-chevron-down"></span>
              </a>
          </li>

            </ul>
        </div>
    </div>
      <!-- /sidebar menu -->
  </div>
</div>
<!-- top navigation -->
<div class="top_nav ml230">
  <div class="nav_menu">
      <nav>
          <div class="nav toggle">
              <a id="menu_toggle" (click)="toggleClicked($event)"><i class="fa fa-bars"></i></a>
          </div>
          <ul class="nav navbar-nav navbar-right">
            <li class="">
                <a href="javascript:;" class="user-profile dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
                    <img src="{{url}}"alt="" />{{name | titlecase}}
                    <span class=" fa fa-angle-down"></span>
                </a>
                <ul class="dropdown-menu dropdown-usermenu pull-right">
                    <li>
                        <a
                        (click)="routeHome()" routerLinkActive="router-link-active" ><i class="fa fa-home pull-right"></i> Home</a>
                    </li>
                    <!-- <li *ngIf="role === 'admin'">
                      <a  (click)="adminRoute()" routerLinkActive="router-link-active" ><i class="fa fa-home pull-right"></i>Admin</a>
                  </li> -->
                  <li>
                    <a  routerLinkActive="router-link-active" (click)="resetKpi()" ><i class="fa fa-home pull-right"></i>Reset All Data</a>
                </li>
                    <li>
                        <a  (click)="login()"><i class="fa fa-sign-out pull-right"></i> Log Out</a>
                    </li>
                </ul>
            </li>
        </ul>
      </nav>
  </div>
</div>
<!-- /top navigation -->
<button type="button" id="openModalButton2" style="display: none"  class="btn btn-xs btn-default command-edit mr5"  data-toggle="modal" data-target="#invite_user_modal3"></button>
<!-- invite user modal -->
<!-- Modal -->
<div class="modal fade" id="invite_user_modal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel3" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
              <button type="button" class="close"
                  data-dismiss="modal">
                      <span aria-hidden="true">&times;</span>
                      <span class="sr-only">Close</span>
              </button>
              <h4 class="modal-title" id="myModalLabel">
                  <div class="col-md-12 col-sm-12 col-xs-12 text_center">
                    Rest KPI Journey
                  </div>
              </h4>
          </div>
          <!-- Modal Body -->
          <div class="modal-body">
              <!-- <form role="form"> -->
                  <form id="demo-form2"   method="post">

                      <div class="row">
                        <div class="col-md-12 col-sm-12 col-xs-12">
                          Are you sure you want to erase all previous Answers, Objectives and Milestones?            </div>
                    </div>
                      <br>



                      <!-- <div class="">
                          <div class="col-md-4 col-sm-12 col-xs-12 float_r p0">
                              <div class="col-md-6 col-sm-12 col-xs-12">
                                  <button type="submit" class="btn btn-primary b_blue f18 w100"><b>Submit</b></button>
                              </div>
                              <div class="col-md-6 col-sm-12 col-xs-12">
                                  <button type="submit" class="btn btn-primary b_white c_blue f18 w100 br25"><b>Skip</b></button>
                              </div>
                          </div>
                      </div>   -->
                  </form>
              <!-- </form> -->
          </div>
          <!-- Modal Footer -->
          <div class="modal-footer">
            <div class="row">
              <div class="col-md-4 col-sm-12 col-xs-12 float_r p0">
                  <div class="col-md-4 col-sm-12 col-xs-12">
                      <button type="submit"  data-dismiss="modal"
                       class="btn btn-primary b_blue f18 w100" (click)="confirm()"><b>Ok</b></button>

                  </div>
                  <div class="col-md-4 col-sm-12 col-xs-12">
                      <button type="submit"  data-dismiss="modal"
                      class="btn btn-primary b_blue f18 w100"><b>Cancel</b></button>
                    </div>



              </div>
          </div>
          </div>
      </div>
  </div>
</div>
<!-- /invite user modal -->

<div class="right_col ml230" role="main" *ngIf="leftStyle==='large'">
  <!-- Class -->
  <div class="">
      <div class="clearfix"></div>
      <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
              <!-- listing_section-->
              <div class="x_panel">
                  <div class="x_content">
                      <div class="x_title">
                          <h2>Charp Updates</h2>
                          <div class="clearfix"></div>
                      </div>
                      <div class="table-responsive">
                        <mat-tab-group dynamicHeight fxFlex="100" (selectedIndexChange)="driverChange($event)" >
                          <mat-tab *ngFor="let item of drivers" (click)="drive(item)">
                            <ng-template mat-tab-label>
                              <div fxFlex>
                                <img src="{{item.driverImage}}" class="iconImg">

                              </div>
                            </ng-template>
                            <div fxLayout="row" fxLayout.lt-md="column" fxFlex fxLayoutGap="20px">
                              <div class="row" style="width: 100%;">
                                <div class="table-responsive">
                                  <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                                      <thead>
                                          <tr class="myHead">
                                              <th data-column-id="patient_name">KPI</th>
                                              <th data-column-id="patient_name">Target</th>
                                              <th data-column-id="id">Milestone</th>
                                              <th data-column-id="patient_name">Due Date</th>
                                              <th data-column-id="patient_name">Charp Status</th>
                                              <!-- <th data-column-id="commands" data-formatter="commands" data-sortable="false" data-header-css-class="cbg-header-name" style="width:11%;">Commands</th> -->
                                          </tr>
                                      </thead>
                                      <tbody>
                                        <tr  *ngFor="let element of kpiData1">
                                          <td>{{element.objective}}</td>
                                          <td>{{element.qty}}</td>
                                          <td>{{element.achieveText}}</td>
                                          <td>{{element.dueDate}}</td>
                                          <td>
                                            <mat-select [(ngModel)]="element.charpStatus" [disabled]="element.readOnly" (selectionChange)="charpUpdate(element)">
                                              <mat-option *ngFor="let food of foods" [value]="food.value">
                                                {{food.viewValue}}
                                              </mat-option>
                                            </mat-select>

                                          </td>

                                        </tr>
                                      </tbody>
                                  </table>
                              </div>
                                </div>
                            </div>
                          </mat-tab>


                        </mat-tab-group>

                      </div>
                      <div class="row">
                          <div class="col-md-12 col-sm-12 col-xs-12">
                              <div class="search_btn">
                                <!-- <button type="submit" class="btn btn-success mr0" id="command-add" data-row-id="0">Submit</button> -->
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <!--/listing_section-->
          </div>
      </div>
  </div>
  <!--/Class -->
</div>
<div class="right_col ml230" role="main" *ngIf="leftStyle==='mobile'">
  <!-- Class -->
  <div class="">
      <div class="clearfix"></div>
      <div class="row">
          <div class="col-md-12 col-sm-12 col-xs-12">
              <!-- listing_section-->
              <div class="x_panel">
                  <div class="x_content">
                      <div class="x_title">
                          <h2>Charp Updates</h2>
                          <img src="{{drivers[currentDriver].driverImage}}" alt="" class="src">
                          <div class="clearfix"></div>
                      </div>
                      <div class="table-responsive">

                       <div class="col-md-12 col-sm-12 col-xs-12">
                        <table id="datatable-buttons" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0" width="100%">
                          <thead>
                              <tr class="myHead">
                                  <th data-column-id="patient_name">KPI</th>
                                  <th data-column-id="id">Milestone</th>
                                  <th data-column-id="patient_name">Due Date</th>
                              </tr>
                          </thead>
                          <tbody>
                            <tr>
                              <td>{{kpiData1[currentIndex]?.objective}}</td>
                              <td>{{kpiData1[currentIndex]?.achieveText}}</td>
                              <td>{{kpiData1[currentIndex]?.dueDate}}</td>
                            </tr>
                          </tbody>
                      </table>

                       <button  class="btn btn-success mr0 {{cStatus}}" (click)="kpiData1[currentIndex].charpStatus='C';charpUpdate(kpiData1[currentIndex])">
                        Change
                  </button>
                  <button  class="btn btn-success mr0 {{hStatus}}" (click)="kpiData1[currentIndex].charpStatus='H';charpUpdate(kpiData1[currentIndex])">
                    Help
              </button>
              <button  class="btn btn-success mr0 {{aStatus}}" (click)="kpiData1[currentIndex].charpStatus='A';charpUpdate(kpiData1[currentIndex])">
                Aware
          </button>
          <button  class="btn btn-success mr0 {{rStatus}}" (click)="kpiData1[currentIndex].charpStatus='R';charpUpdate(kpiData1[currentIndex])">
            Redirect
      </button>
      <button  class="btn btn-success mr0 {{pStatus}}" (click)="kpiData1[currentIndex].charpStatus='P';charpUpdate(kpiData1[currentIndex])">
        Plan
  </button>
                     </div>
                     <div class="row">
                      <div class="col-md-6 col-sm-6 col-xs-6">
                        <!-- <button  class="btn btn-success mr0" (click)="back()">
                          Back
                    </button> -->
                     </div>
                     <div class="col-md-6 col-sm-6 col-xs-6">
                      <button  class="btn btn-success mr0" (click)="next()">
                        Next
                  </button>
                   </div>
                     </div>

                      </div>
                      <div class="row">
                          <div class="col-md-12 col-sm-12 col-xs-12">
                              <div class="search_btn">
                                <!-- <button type="submit" class="btn btn-success mr0" id="command-add" data-row-id="0">Submit</button> -->
                              </div>
                          </div>
                      </div>
                  </div>
              </div>
              <!--/listing_section-->
          </div>
      </div>
  </div>
  <!--/Class -->
</div>
