<div class="right_col ml230 right_col nsidebar-content" role="main">
  <div class="row">
    <!-- my code start -->
    <div
      class="x_panel col-xs-12 col-sm-12 col-md-12 col-lg-12"
      *ngIf="!meetingIsLaunched"
    >
      <div class="meeting-wrapper">
        <div class="meeting-left">
          <div class="meeting-list">
            <div class="meeting-tab">
              <ul class="nav">
                <li class="nav-item" (click)="tabChange('rhythm')">
                  <a
                    class="nav-link"
                    aria-current="page"
                    [ngClass]="{ active: rhythm }"
                    >Rhythm</a
                  >
                </li>
                <li class="nav-item" (click)="tabChange('custom')">
                  <a class="nav-link" [ngClass]="{ active: custom }">Custom</a>
                </li>
              </ul>
              <div class="nav-item" (click)="tabChange('completedMeeting')">
                <a class="nav-link" *ngIf="!completedMeeting"
                  ><img src="assets/images/meeting/clipboard-check.svg"
                /></a>
                <a class="nav-link" *ngIf="completedMeeting"
                  ><img src="assets/images/meeting/clipboard-check-solid.svg"
                /></a>
              </div>
            </div>
            <div
              class="create-meeting-content"
              *ngIf="!displayMeetingList && (rhythm || custom)"
            >
              <div>
                <h1>Letâ€™s create a new meeting</h1>
                <p>Start with creating a meeting schedule!</p>
                <button
                  *ngIf="!meetingIsLaunched"
                  (click)="showModal(meetingNew, 'modal-md'); resetTimer()"
                  class="btn btn-rounded"
                >
                  <i class="fas fa-plus"></i> Create New Meeting
                </button>
              </div>
            </div>
            <div
              class="meeting-list-content-wrapper"
              *ngIf="displayMeetingList && (rhythm || custom)"
            >
              <div class="meeting-list-content">
                <button
                  *ngIf="!meetingIsLaunched"
                  (click)="showModal(meetingNew, 'modal-md'); resetTimer()"
                  class="btn btn-rounded createMeetingbtn"
                >
                  <i class="fas fa-plus"></i> Create New Meeting
                </button>
                <div class="meeting-list-item">
                  <div *ngFor="let m of userMeetingData; let i = index">
                    <mat-card
                      class="base-card"
                      (click)="viewMeetingDetails(m)"
                      [ngClass]="{ active: m.meetingUserId === meetingUserId }"
                      *ngIf="!meetingIsLaunched"
                    >
                      <mat-card-header>
                        <mat-card-title class="meeting"
                          >{{ m.meeting }}
                        </mat-card-title>
                        <mat-card-subtitle
                          *ngIf="
                            m.meetingFrequency == 'Weekly' && m.meetingInterval
                          "
                          ><img src="assets/images/meeting/calendar.svg" />
                          {{ m.meetingFrequency }} - Every
                          {{ dayOfTheWeek[m.meetingInterval - 1].dayOfWeek }}
                        </mat-card-subtitle>
                        <mat-card-subtitle
                          style="font-size:12px;"
                          *ngIf="
                            m.meetingFrequency == 'Weekly' && m.meetingInterval
                          "
                          ><img src="assets/images/meeting/clock.svg" />
                          {{ m.meetingDate | date: "shortTime" }}
                        </mat-card-subtitle>

                        <mat-card-subtitle
                          style="font-size:12px;"
                          *ngIf="
                            m.meetingFrequency == 'Monthly' && m.meetingInterval
                          "
                          ><img src="assets/images/meeting/calendar.svg" />
                          {{ m.meetingFrequency }} Every
                          {{ dayOfTheMonth[m.meetingInterval - 1].display }} of
                          the Month
                        </mat-card-subtitle>
                        <mat-card-subtitle
                          style="font-size:12px;"
                          *ngIf="
                            m.meetingFrequency == 'Monthly' && m.meetingInterval
                          "
                          ><img src="assets/images/meeting/clock.svg" />
                          {{ m.meetingDate | date: "shortTime" }}
                        </mat-card-subtitle>
                        <mat-card-subtitle
                          style="font-size:12px;"
                          *ngIf="m.meetingFrequency == 'Not Recurring'"
                          >Non Recurring meeting on
                          {{ m.meetingDate | date: "EEEE" }}
                          {{ m.meetingDate | date: "LLLL" }}
                          {{ m.meetingDate | date: "dd" }} at
                          {{
                            m.meetingDate | date: "shortTime"
                          }}</mat-card-subtitle
                        >
                        <!-- <mat-card-subtitle class="small-font start-meeting" (click)="launchMeeting(m)"
                      *ngIf="!meetingIsLaunched && m.userRole == 'Host'">Launch Meeting</mat-card-subtitle>
                    <mat-card-subtitle class="small-font preview-meeting" (click)="viewMeetingDetails(m)"
                      *ngIf="!meetingIsLaunched">Preview Meeting</mat-card-subtitle> -->
                      </mat-card-header>
                    </mat-card>
                  </div>
                </div>
              </div>
            </div>
            <div class="create-meeting-content" *ngIf="completedMeeting">
              <div>
                <h1>No completed meetings</h1>
                <p>Once you finish your first meeting, it will appear here!</p>
              </div>
            </div>
          </div>
        </div>
        <div class="meeting-right">
          <div
            class="create-meeting-text"
            *ngIf="!displayMeetingList || completedMeeting"
          >
            <div>
              <h1>To see a Preview, please create your first meeting</h1>
              <p>
                To create your first meeting, select a few teammates and add
                them to the schedule!
              </p>
            </div>
          </div>
          <div class="meeting-list-of-preview" *ngIf="displayMeetingList">
            <app-meeting-preview
              [previewMeetingId]="previewMeetingId"
              [userRole]="userRole"
              *ngIf="meetingIsPreview"
              (launchMeetingId)="launchMeeting($event)"
            ></app-meeting-preview>
          </div>
        </div>
      </div>
    </div>
    <div *ngIf="!displayMeetingList">
      <!-- <div>
        <div
          class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
          *ngIf="meetingIsLaunched && !meetingIsPreview"
        >
          <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
            <div class="meeting-title">
              <h2>{{ activeMeetingName }}</h2>
              <h4 *ngIf="!meetingInProgress">Meeting Lobby</h4>
              <h4 *ngIf="meetingInProgress">MEETING IN PROGRESS</h4>
              <p
                class="small-font start-meeting"
                (click)="startMeeting(activeMeeting)"
                *ngIf="!meetingInProgress"
              >
                Start meeting
              </p>
              <p
                class="small-font stop-meeting"
                (click)="stopMeeting(activeMeeting)"
                *ngIf="meetingInProgress && !conclusionFinished"
              >
                Stop meeting
              </p>
              <p
                class="small-font stop-meeting"
                *ngIf="
                  !meetingInProgress &&
                  !conclusionFinished &&
                  !activeTimer &&
                  !activeMeetingNotes &&
                  !activeMeetingScoreNotes
                "
                (click)="exitMeeting(activeMeeting)"
              >
                Exit meeting
              </p>
              <p
                *ngIf="
                  activeTimer || activeMeetingNotes || activeMeetingScoreNotes
                "
              >
                <strong
                  >Avoid navigating away from the meeting while in progress, and
                  remember to
                  <a
                    style="color:#73879C;cursor:pointer;text-decoration: underline;"
                    (click)="showMeetingConclusion()"
                    >conclude</a
                  >
                  the meeting to exit.</strong
                >
              </p>
            </div>
            <hr />
          </div>
          <div
            class="col-xs-12 col-sm-12 col-md-3 col-lg-3 col-xl-3 border-right-light"
          >
            <div
              class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
              *ngIf="activeTimer"
            >

              <div
                class="col-xs-12-col-sm-12 col-md-12 col-lg-12 col-xl-12 border-bottom-light"
                *ngIf="activeTimer"
              >
                <h2 style="text-align:center;">Active Agenda Item</h2>
                <div style="text-align:center;font-size:18px;">
                  <a style="color:#73879C;">{{ activeTimer.name }}</a>
                </div>
                <div style="text-align:center;font-size:18px;color:#73879C;">
                  <a
                    [ngClass]="{
                      'time-remaining-danger': activeTimer.status == 'danger',
                      'time-remaining-warning': activeTimer.status == 'warning',
                      'time-remaining-info': activeTimer.status == 'info'
                    }"
                    >{{
                      activeTimer.timeRemainingDisplay
                        ? activeTimer.timeRemainingDisplay
                        : activeTimer.display
                    }}</a
                  >
                </div>
              </div>
            </div>
            <div class="row">

              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 attendee-container"
              >
                <h2 style="cursor:pointer;" (click)="showAttendeeList()">
                  Attendee List<i
                    [ngClass]="
                      displayAttendeeList
                        ? 'fas fa-angle-down'
                        : 'fas fa-angle-right'
                    "
                    style="padding-left:5px;"
                  ></i>
                </h2>
                <div
                  [ngClass]="
                    displayAttendeeList
                      ? 'display-attendee-list'
                      : 'hide-attendee-list'
                  "
                  *ngIf="displayAttendeeList"
                >
                  <ng-container
                    *ngIf="activeMeeting && activeMeeting.attendees"
                  >
                    <div
                      style="padding-left:10px;"
                      *ngFor="let a of activeMeeting.attendees; let i = index"
                    >
                      <i
                        class="fas fa-check-circle"
                        style="color:green;padding-right:3px;cursor:pointer;"
                        (click)="assignAttendee(a, i, 'present')"
                        *ngIf="
                          !a.attendeeStatus || a.attendeeStatus == 'present'
                        "
                      ></i>
                      <i
                        class="fas fa-check-circle"
                        style="color:lightgray;padding-right:3px;cursor:pointer;"
                        (click)="assignAttendee(a, i, 'present')"
                        *ngIf="
                          a.attendeeStatus && a.attendeeStatus != 'present'
                        "
                      ></i>
                      <i
                        class="fas fa-times-circle"
                        style="color:red;cursor:pointer;padding-right: 5px;"
                        (click)="assignAttendee(a, i, 'not present')"
                        *ngIf="
                          !a.attendeeStatus || a.attendeeStatus == 'not present'
                        "
                      ></i>
                      <i
                        class="fas fa-times-circle"
                        style="color:lightgray;cursor:pointer;padding-right: 5px;"
                        (click)="assignAttendee(a, i, 'not present')"
                        *ngIf="
                          a.attendeeStatus && a.attendeeStatus != 'not present'
                        "
                      ></i>
                      <a
                        class="agenda-item"
                        [ngStyle]="{
                          color:
                            a.selected == true && meetingInProgress
                              ? 'red'
                              : '#73879C',
                          cursor: activeMeeting?.milestones ? 'pointer' : 'auto'
                        }"
                        (click)="getMilestoneData(a)"
                        >{{ a.User.name }} {{ a.User.lname }}</a
                      >
                    </div>
                  </ng-container>
                </div>
              </div>

              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
                *ngIf="meetingInProgress"
              >
                <h2
                  style="cursor:pointer;width:fit-content;"
                  (click)="getIssueData(activeMeeting.meetingId)"
                  *ngIf="!activeMeeting.displayIssues"
                >
                  Display Issues
                </h2>
                <h2
                  style="cursor:pointer;width:fit-content;"
                  (click)="getIssueData(activeMeeting.meetingId)"
                  *ngIf="activeMeeting.displayIssues"
                >
                  Hide Issues<i
                    class="fas fa-filter"
                    [ngStyle]="{
                      color: activeMeeting.activeUser?.filterIssues
                        ? '#ff6767'
                        : '#4da6ff'
                    }"
                    style="cursor:pointer;padding-left:10px;font-size:14px;color:#4da6ff;"
                    matTooltip="Filter to issues owned by {{
                      activeMeeting.activeUser?.User.name
                    }} {{ activeMeeting.activeUser?.User.lname }}"
                    matTooltipClass="toolTip"
                    aria-label="Button that displays a tooltip when focused or hovered over"
                    *ngIf="activeMeeting.activeUser?.User"
                    (click)="$event.stopPropagation(); getUserIssue()"
                  ></i>
                </h2>
              </div>
            </div>
            <div class="row">

              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 agenda-container"
              >
                <h2>
                  Agenda<i
                    [ngClass]="
                      displayAgenda ? 'fas fa-angle-down' : 'fas fa-angle-right'
                    "
                    style="padding-left:5px;cursor:pointer;"
                    (click)="showAgenda()"
                  ></i>
                </h2>
                <div class="agenda" *ngFor="let t of timers; let i = index">
                  <div
                    class="col-xs-10 col-sm-10 col-md-10 col-lg-10 col-xl-10"
                    *ngIf="displayAgenda"
                  >
                    <a class="agenda-item"
                      ><i
                        class="fas fa-asterisk"
                        style="font-size:10px"
                        *ngIf="activeTimer && t.name == activeTimer.name"
                      ></i
                      >{{ t.name }}
                      <i
                        class="fas fa-play agenda-control"
                        style="padding-left:10px;font-size:15px;color:green;"
                        *ngIf="meetingInProgress"
                        (click)="startAgendaItem(t, i)"
                      ></i>
                      <i
                        class="fas fa-stop agenda-control"
                        style="padding-left:5px;font-size:15px;color:red;"
                        *ngIf="meetingInProgress"
                        (click)="pauseAgendaItem()"
                      ></i>
                    </a>
                  </div>
                  <div
                    class="col-xs-2 col-sm-2 col-md-2 col-lg-2 col-xl-2"
                    style="text-align:right;"
                    *ngIf="displayAgenda"
                  >
                    <a class="agenda-item" *ngIf="t.duration >= 1"
                      >{{ t.duration }}m</a
                    >
                    <a class="agenda-item" *ngIf="t.duration < 1"
                      >{{ t.duration * 60 }}s</a
                    >
                  </div>
                </div>
              </div>

              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
                *ngIf="meetingInProgress"
              >
                <h2>
                  Meeting Notes<i
                    [ngClass]="
                      displayMeetingNotes
                        ? 'fas fa-angle-down'
                        : 'fas fa-angle-right'
                    "
                    style="padding-left:5px;cursor:pointer;"
                    (click)="showMeetingNotes()"
                  ></i>
                </h2>
                <div *ngIf="displayMeetingNotes">
                  <angular-editor
                    [(ngModel)]="activeMeetingNotes"
                    [config]="config"
                    name="nm_MeetingNotes"
                    ngDefaultControl
                  ></angular-editor>
                </div>
              </div>

              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
                *ngIf="meetingInProgress"
              >
                <div
                  class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
                  style="padding-left:0px;text-align:left;"
                >
                  <h2>
                    Conclude Meeting<i
                      [ngClass]="
                        displayMeetingConclusion
                          ? 'fas fa-angle-down'
                          : 'fas fa-angle-right'
                      "
                      style="padding-left:5px;cursor:pointer;"
                      (click)="toggleMeetingConclusion()"
                    ></i>
                  </h2>
                </div>
                <div
                  style="text-align:center;"
                  *ngIf="displayMeetingConclusion"
                >
                  <div
                    class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
                  >
                    <input
                      type="text"
                      style="font-size:18px;width:50px;text-align:center;"
                      name="mtgScoreScore"
                      [(ngModel)]="activeMeetingScore"
                      disabled
                    />
                  </div>
                  <a
                    class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
                    style="font-size:20px;color:#73879C;"
                    ><i
                      class="fas fa-plus-circle"
                      style="padding-right:10px;cursor:pointer;"
                      (click)="incrementMeetingScore('up')"
                    ></i
                    ><i
                      class="fas fa-minus-circle"
                      style="cursor:pointer;"
                      (click)="incrementMeetingScore('down')"
                    ></i
                  ></a>
                  <button
                    class="btn btn-primary"
                    (click)="concludeMeeting(activeMeeting)"
                    *ngIf="meetingInProgress"
                  >
                    Conclude Meeting
                  </button>
                  <angular-editor
                    style="text-align:left;"
                    [(ngModel)]="activeMeetingScoreNotes"
                    [config]="config"
                    name="nm_MtgScoreScoreNotes"
                    ngDefaultControl
                  ></angular-editor>
                </div>
              </div>
            </div>
          </div>
          
          <div class="col-xs-12 col-sm-12 col-md-9 col-lg-9 col-xl-9">
            <div
              class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
              *ngIf="meetingInProgress"
            >
              <div
                class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
                style="padding-bottom:10px;"
                *ngIf="
                  activeMeetingMilestoneData &&
                  activeMeetingDisplayMilestones &&
                  !activeMeeting.displayIssues
                "
              >
                <h2>Milestones</h2>
                <table
                  mat-table
                  [dataSource]="activeMeetingMilestoneData"
                  class="table"
                  style="color:#73879C;"
                >
                  <ng-container matColumnDef="ID">
                    <th mat-header-cell *matHeaderCellDef>ID</th>
                    <td mat-cell *matCellDef="let element; let i = index">
                      <a
                        style="color: #007bff; cursor: pointer;"
                        data-toggle="modal"
                        data-target="#edit_milestone1"
                        (click)="
                          milestoneEdit(editMilestone, 'modal-md', element)
                        "
                        >{{ i + 1 }}
                        <i
                          style="color:#73879C;font-size:10px;"
                          [ngClass]="
                            element.recurringFrequency ? 'fas fa-sync' : ''
                          "
                        ></i
                      ></a>
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Driver">
                    <th mat-header-cell *matHeaderCellDef>Driver</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.Driver }}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="KPI">
                    <th mat-header-cell *matHeaderCellDef>KPI</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.KPI }}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Milestone">
                    <th mat-header-cell *matHeaderCellDef>Milestone</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.Milestone }}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Due Date">
                    <th mat-header-cell *matHeaderCellDef>Due Date</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element["Due Date"] | date: "MM/dd/yyyy" }}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="Status">
                    <th mat-header-cell *matHeaderCellDef>Status</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.Status }}
                    </td>
                  </ng-container>
                  <ng-container matColumnDef="User">
                    <th mat-header-cell *matHeaderCellDef>User</th>
                    <td mat-cell *matCellDef="let element">
                      {{ element.User }}
                      <a
                        style="padding-left:10px !important;font-size:15px !important;cursor:pointer;"
                        matTooltip="{{ element.note }}"
                        matTooltipClass="toolTip"
                        aria-label="Button that displays a tooltip when focused or hovered over"
                        ><i
                          style="padding-left:2px;color:#73879C;font-size:12px;"
                          [ngClass]="element.note ? 'far fa-sticky-note' : ''"
                        ></i
                      ></a>
                    </td>
                  </ng-container>
                  <tr mat-header-row *matHeaderRowDef="milestoneColumns"></tr>
                  <tr
                    mat-row
                    *matRowDef="let element; columns: milestoneColumns"
                  ></tr>
                </table>
              </div>
            </div>
          </div>
          <div
            class="col-xs-12 col-sm-12 col-md-9 col-lg-9 col-xl-9"
            style="padding-left:30px;padding-right:30px;"
          >
            <app-issue
              *ngIf="meetingInProgress && activeMeeting.displayIssues"
              [data]="{
                user: activeMeeting.activeUser,
                meetingId: activeMeeting.meetingId
              }"
              [userData]="
                activeMeeting.activeUser?.filterIssues
                  ? issueDataFiltered
                    ? issueDataFiltered
                    : []
                  : issueData
                  ? issueData
                  : []
              "
            >
            </app-issue>
          </div>
        </div>
      </div> -->

      <div class="meeting-launch-wrapper meeting-wrapper">
        <div
          class="meeting-launch-wrapper-content"
          *ngIf="meetingIsLaunched && !meetingIsPreview"
        >
          <div class="meeting-header">
            <div class="left-div">
              <h4>
                <a class="back-arrow" (click)="exitMeeting(activeMeeting)">
                  <svg
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M10 19L3 12M3 12L10 5M3 12L21 12"
                      stroke="#474F59"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg> </a
                >Launch Meeting: Title for this Meeting
              </h4>
            </div>
          </div>
          <hr class="mt-1 mb-0" />
          <div class="meeting-main-content">
            <div class="row">
              <div class="col-md-3">
                <div class="meeting-notes">
                  <div class="notes-wrapper">
                    <div class="form-group">
                      <h5>
                        <span>
                          <svg
                            width="20"
                            height="20"
                            viewBox="0 0 20 20"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <path
                              d="M13.5858 3.58579C14.3668 2.80474 15.6332 2.80474 16.4142 3.58579C17.1953 4.36683 17.1953 5.63316 16.4142 6.41421L15.6213 7.20711L12.7929 4.37868L13.5858 3.58579Z"
                              fill="#575757"
                            />
                            <path
                              d="M11.3787 5.79289L3 14.1716V17H5.82842L14.2071 8.62132L11.3787 5.79289Z"
                              fill="#575757"
                            />
                          </svg>
                        </span>
                        Meeting Notes
                      </h5>
                      <textarea
                        placeholder="Put some notes for everything necessary on the meeting"
                        rows="10"
                      ></textarea>
                    </div>
                  </div>
                  <button class="btn btn-primary">Notes</button>
                </div>
                <div class="start-metting-box mt-1" *ngIf="!meetingInProgress">
                  <p>
                    Before start the meeting, please checklist arrived attendant
                    to list attendance attendance
                  </p>
                  <button
                    class="btn btn-primary"
                    (click)="startMeeting(activeMeeting)"
                  >
                    <img src="assets/images/meeting/btn-arrow-icon.svg" />Start
                    Meeting
                  </button>
                </div>
                <div class="meeting-progress-wrap mt-1">
                  <h3>Agenda</h3>
                  <div class="meeting-progress">
                    <h4>Milestone/Rocks</h4>
                    <div class="time-content">
                      <span>08:20</span>
                      <span>
                        <svg
                          width="33"
                          height="32"
                          viewBox="0 0 33 32"
                          fill="none"
                          xmlns="http://www.w3.org/2000/svg"
                        >
                          <path
                            fill-rule="evenodd"
                            clip-rule="evenodd"
                            d="M16.5002 28.7999C23.5694 28.7999 29.3002 23.0692 29.3002 16C29.3002 8.93071 23.5694 3.19995 16.5002 3.19995C9.43095 3.19995 3.7002 8.93071 3.7002 16C3.7002 23.0692 9.43095 28.7999 16.5002 28.7999ZM15.7877 11.4687C15.2967 11.1414 14.6655 11.1108 14.1452 11.3893C13.625 11.6677 13.3002 12.2099 13.3002 12.8V19.2C13.3002 19.79 13.625 20.3322 14.1452 20.6106C14.6655 20.8891 15.2967 20.8585 15.7877 20.5312L20.5877 17.3312C21.0328 17.0345 21.3002 16.5349 21.3002 16C21.3002 15.465 21.0328 14.9654 20.5877 14.6687L15.7877 11.4687Z"
                            fill="#00A9FF"
                          />
                        </svg>
                      </span>
                      <span>15:00</span>
                    </div>
                    <mat-progress-bar
                      mode="determinate"
                      value="60"
                    ></mat-progress-bar>
                  </div>
                  <div class="agenda-content mt-1">
                    <div class="agenda-list" *ngIf="displayAgenda">
                      <ul>
                        <li *ngFor="let t of timers; let i = index">
                          <div class="agenda-img"></div>
                          <div class="agenda-name">
                            <p>
                              <a class="agenda-item">{{ t.name }} </a>
                            </p>
                            <p>
                              <a class="agenda-time" *ngIf="t.duration >= 1"
                                >{{ t.duration }}m</a
                              >
                            </p>
                            <p>
                              <a class="agenda-time" *ngIf="t.duration < 1"
                                >{{ t.duration * 60 }}s</a
                              >
                            </p>
                          </div>
                          <div class="check-circle">
                            <svg
                              width="24"
                              height="25"
                              viewBox="0 0 24 25"
                              fill="none"
                              xmlns="http://www.w3.org/2000/svg"
                            >
                              <path
                                fill-rule="evenodd"
                                clip-rule="evenodd"
                                d="M11.9999 22.1C17.3018 22.1 21.5999 17.802 21.5999 12.5C21.5999 7.19809 17.3018 2.90002 11.9999 2.90002C6.69797 2.90002 2.3999 7.19809 2.3999 12.5C2.3999 17.802 6.69797 22.1 11.9999 22.1ZM16.4484 10.9486C16.9171 10.4799 16.9171 9.72012 16.4484 9.2515C15.9798 8.78287 15.22 8.78287 14.7514 9.2515L10.7999 13.203L9.24843 11.6515C8.7798 11.1829 8.02 11.1829 7.55137 11.6515C7.08275 12.1201 7.08275 12.8799 7.55137 13.3486L9.95137 15.7486C10.42 16.2172 11.1798 16.2172 11.6484 15.7486L16.4484 10.9486Z"
                                fill="#0F9E3F"
                              />
                            </svg>
                          </div>
                        </li>
                      </ul>
                    </div>
                  </div>
                  <button
                    class="btn btn-primary"
                    (click)="startMeeting(activeMeeting)"
                  >
                    Finish and Conclude Meeting
                  </button>
                </div>
                <div class="attendee-content mt-1">
                  <h3>
                    Attendee List
                  </h3>
                  <div class="attendee-list">
                    <ul *ngIf="activeMeeting && activeMeeting.attendees">
                      <li
                        *ngFor="let a of activeMeeting.attendees; let i = index"
                      >
                        <div class="custom-checkbox">
                          <label>
                            <input
                              type="checkbox"
                              (change)="assignAttendee(a, i, $event)"
                            />
                            <span class="checkmark"></span>
                          </label>
                        </div>
                        <div class="attendee-img"></div>
                        <div
                          class="attendee-name"
                          (click)="getMilestoneData(a)"
                        >
                          <a class="agenda-item"
                            >{{ a.User.name }} {{ a.User.lname }}</a
                          >
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
                <hr class="mt-0 mb-0" />
                <div class="agenda-content mt-1">
                  <h3>Agenda</h3>
                  <div class="agenda-list" *ngIf="displayAgenda">
                    <ul>
                      <li *ngFor="let t of timers; let i = index">
                        <div class="agenda-img"></div>
                        <div class="agenda-name">
                          <p>
                            <a class="agenda-item">{{ t.name }} </a>
                          </p>
                          <p>
                            <a class="agenda-time" *ngIf="t.duration >= 1"
                              >{{ t.duration }}m</a
                            >
                          </p>
                          <p>
                            <a class="agenda-time" *ngIf="t.duration < 1"
                              >{{ t.duration * 60 }}s</a
                            >
                          </p>
                        </div>
                      </li>
                    </ul>
                  </div>
                </div>
              </div>
              <div class="col-md-9">
                <div class="meeting-tab">
                  <ul class="nav">
                    <!--  -->
                    <li
                      class="nav-item"
                      (click)="getKpiData(activeMeeting.meetingId)"
                    >
                      <a
                        [ngClass]="{
                          active: activeMeeting && activeMeeting.displayKPI
                        }"
                        >KPI</a
                      >
                    </li>
                    <!--  -->
                    <li
                      class="nav-item"
                      (click)="getMilestoneData(activeMeeting.meetingId)"
                    >
                      <a
                        [ngClass]="{
                          active:
                            activeMeeting && activeMeeting.displayMilestones
                        }"
                        >Rocks / Milestone</a
                      >
                    </li>
                    <!--  -->
                    <li
                      class="nav-item"
                      (click)="getIssueData(activeMeeting.meetingId)"
                    >
                      <a
                        [ngClass]="{
                          active: activeMeeting && activeMeeting.displayIssues
                        }"
                        >Issue</a
                      >
                    </li>
                  </ul>
                </div>
                <div class="meeting-tab-content">
                  <div
                    class="tab-content"
                    *ngIf="
                      activeMeeting &&
                      activeMeeting?.displayKPI &&
                      !activeMeeting?.displayMilestones &&
                      !activeMeeting?.displayIssues
                    "
                  >
                    <div class="issue-content-wrapper">
                      <app-kpi></app-kpi>
                    </div>
                  </div>
                  <div
                    class="tab-content"
                    *ngIf="
                      activeMeeting &&
                      activeMeeting?.displayMilestones &&
                      !activeMeeting?.displayIssues &&
                      !activeMeeting?.displayKPI
                    "
                  >
                    <div class="milestones-content-wrapper">
                      <table
                        mat-table
                        [dataSource]="activeMeetingMilestoneData"
                        class="table"
                        style="color:#73879C;"
                      >
                        <ng-container matColumnDef="ID">
                          <th mat-header-cell *matHeaderCellDef>ID</th>
                          <td mat-cell *matCellDef="let element; let i = index">
                            <a
                              style="color: #007bff; cursor: pointer;"
                              data-toggle="modal"
                              data-target="#edit_milestone1"
                              (click)="
                                milestoneEdit(
                                  editMilestone,
                                  'modal-md',
                                  element
                                )
                              "
                              >{{ i + 1 }}
                              <i
                                style="color:#73879C;font-size:10px;"
                                [ngClass]="
                                  element.recurringFrequency
                                    ? 'fas fa-sync'
                                    : ''
                                "
                              ></i
                            ></a>
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="Driver">
                          <th mat-header-cell *matHeaderCellDef>Driver</th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.Driver }}
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="KPI">
                          <th mat-header-cell *matHeaderCellDef>KPI</th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.KPI }}
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="Milestone">
                          <th mat-header-cell *matHeaderCellDef>Milestone</th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.Milestone }}
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="Due Date">
                          <th mat-header-cell *matHeaderCellDef>Due Date</th>
                          <td mat-cell *matCellDef="let element">
                            {{ element["Due Date"] | date: "MM/dd/yyyy" }}
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="Status">
                          <th mat-header-cell *matHeaderCellDef>Status</th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.Status }}
                          </td>
                        </ng-container>
                        <ng-container matColumnDef="User">
                          <th mat-header-cell *matHeaderCellDef>User</th>
                          <td mat-cell *matCellDef="let element">
                            {{ element.User }}
                            <a
                              style="padding-left:10px !important;font-size:15px !important;cursor:pointer;"
                              matTooltip="{{ element.note }}"
                              matTooltipClass="toolTip"
                              aria-label="Button that displays a tooltip when focused or hovered over"
                              ><i
                                style="padding-left:2px;color:#73879C;font-size:12px;"
                                [ngClass]="
                                  element.note ? 'far fa-sticky-note' : ''
                                "
                              ></i
                            ></a>
                          </td>
                        </ng-container>
                        <tr
                          mat-header-row
                          *matHeaderRowDef="milestoneColumns"
                        ></tr>
                        <tr
                          mat-row
                          *matRowDef="let element; columns: milestoneColumns"
                        ></tr>
                      </table>
                    </div>
                  </div>
                  <div
                    class="tab-content"
                    *ngIf="
                      activeMeeting &&
                      activeMeeting?.displayIssues &&
                      !activeMeeting?.displayMilestones &&
                      !activeMeeting?.displayKPI
                    "
                  >
                    <div class="issue-content-wrapper">
                      <app-issue
                        *ngIf="meetingInProgress && activeMeeting.displayIssues"
                        [data]="{
                          user: activeMeeting.activeUser,
                          meetingId: activeMeeting.meetingId
                        }"
                        [userData]="
                          activeMeeting.activeUser?.filterIssues
                            ? issueDataFiltered
                              ? issueDataFiltered
                              : []
                            : issueData
                            ? issueData
                            : []
                        "
                      ></app-issue>
                    </div>
                  </div>
                </div>
                <div
                  class="meeting-start-popup-wrapper"
                  *ngIf="!meetingInProgress"
                >
                  <div class="meeting-start-popup-content">
                    <h3>Start the Meeting First!</h3>
                    <p>This will be active when you start the meeting</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- my code end -->
  </div>
</div>

<ng-template #meetingEdit>
  <div class="modal-header">
    <button
      type="button"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true">Ã—</span>
    </button>
    <h4 class="modal-title" id="myModalLabel">
      <div class="col-md-12 col-sm-12 col-xs-12 text_center">
        <h2>Edit Meeting</h2>
      </div>
    </h4>
  </div>
  <div class="modal-body" style="overflow:auto;">
    <div class="padding-bottom">
      <span class="">Name</span>
      <input
        id="edit_MeetingName"
        type="text"
        class="form-control"
        placeholder="Executive Leadership Team"
        name="editMeetingName"
        [(ngModel)]="meetingEditMeetingName"
      />
    </div>
    <div class="padding-bottom col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
      <mat-form-field appearance="fill" style="width:100%;">
        <mat-label>Frequency</mat-label>
        <mat-select
          class="form-control"
          [(ngModel)]="meetingEditMeetingFrequency"
          name="editMeetingFrequency"
          (selectionChange)="clearMeetingInterval()"
        >
          <mat-option *ngFor="let f of frequency" [value]="f.value">{{
            f.viewValue
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div
      class="padding-bottom col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
      *ngIf="meetingEditMeetingFrequency == 'Weekly'"
    >
      <mat-form-field appearance="fill" style="width:100%;">
        <mat-label>Day of the week</mat-label>
        <mat-select
          class="form-control"
          [(ngModel)]="meetingEditMeetingInterval"
          name="editMeetingDayOfWeek"
        >
          <mat-option *ngFor="let d of dayOfTheWeek" [value]="d.id">{{
            d.dayOfWeek
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div
      class="padding-bottom col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
      *ngIf="meetingEditMeetingFrequency == 'Monthly'"
    >
      <mat-form-field appearance="fill" style="width:100%;">
        <mat-label>Day of the month</mat-label>
        <mat-select
          class="form-control"
          [(ngModel)]="meetingEditMeetingInterval"
          name="editMeetingDayOfMonth"
        >
          <mat-option *ngFor="let d of dayOfTheMonth" [value]="d.id">{{
            d.dayOfTheMonth
          }}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div
      class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
      [ngClass]="{
        'is-not-visible':
          meetingEditMeetingFrequency != 'Monthly' &&
          meetingEditMeetingFrequency != 'Weekly'
      }"
    >
      <div
        *ngIf="
          meetingEditMeetingFrequency &&
          meetingEditMeetingFrequency != 'Monthly' &&
          meetingEditMeetingFrequency != 'Weekly'
        "
      >
        <mat-form-field appearance="fill" style="width:100%;">
          <mat-label>Day of the month</mat-label>
          <mat-select class="form-control" name="editMeetingDayOfMonth">
          </mat-select>
        </mat-form-field>
      </div>
    </div>
    <div
      class="padding-bottom col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
      *ngIf="
        meetingEditMeetingFrequency == 'Monthly' ||
        meetingEditMeetingFrequency == 'Weekly'
      "
    >
      <span class="">Time</span>
      <input
        class="form-control"
        [owlDateTimeTrigger]="dt4"
        [owlDateTime]="dt4"
        [(ngModel)]="meetingEditMeetingDate"
        id="edit_MeetingTime"
        name="editMeetingTime"
        [value]="meetingEditMeetingDate"
      />
      <owl-date-time
        hour12Timer="true"
        [pickerType]="'timer'"
        #dt4
      ></owl-date-time>
    </div>
    <div
      class="padding-bottom col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
      *ngIf="meetingEditMeetingFrequency == 'Not Recurring'"
    >
      <span class="">Time</span>
      <input
        class="form-control"
        [owlDateTimeTrigger]="dt"
        [owlDateTime]="dt"
        [(ngModel)]="meetingEditMeetingDate"
        id="edit_MeetingTime"
        name="editMeetingTime"
        [value]="meetingEditMeetingDate"
      />
      <owl-date-time hour12Timer="true" #dt></owl-date-time>
    </div>
    <div
      class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
      *ngIf="
        meetingEditMeetingFrequency == 'Weekly' &&
        meetingEditMeetingInterval &&
        meetingEditMeetingDate
      "
    >
      Recurring {{ meetingEditMeetingFrequency }} on
      {{ dayOfTheWeek[meetingEditMeetingInterval - 1].dayOfWeek }}s at
      {{ meetingEditMeetingDate | date: "shortTime" }}
    </div>
    <div
      class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
      *ngIf="
        meetingEditMeetingFrequency == 'Monthly' &&
        meetingEditMeetingInterval &&
        meetingEditMeetingDate
      "
    >
      Recurring {{ meetingEditMeetingFrequency }} on the
      {{ dayOfTheMonth[meetingEditMeetingInterval - 1].display }} at
      {{ meetingEditMeetingDate | date: "shortTime" }}
    </div>
    <div
      class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
      *ngIf="
        meetingEditMeetingFrequency == 'Not Recurring' && meetingEditMeetingDate
      "
    >
      Non Recurring meeting on {{ meetingEditMeetingDate | date: "EEEE" }}
      {{ meetingEditMeetingDate | date: "LLLL" }}
      {{ meetingEditMeetingDate | date: "dd" }} at
      {{ meetingEditMeetingDate | date: "shortTime" }}
    </div>
    <div class="padding-bottom">
      <mat-form-field appearance="fill" style="width:100%;">
        <mat-label>Participants</mat-label>
        <mat-select
          class="form-control"
          [(ngModel)]="meetingEditMeetingAttendees"
          name="editMeetingAttendees"
          multiple
        >
          <mat-option
            [disabled]="u.uID == uID"
            *ngFor="let u of orgUserList"
            [value]="u.uID"
            >{{ u.name }} {{ u.lname }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="col-xl-3 col-lg-3 col-md-6 col-sm-12" style="padding-left:0px;">
      <p>Custom Agenda</p>
      <div
        class="row"
        [ngClass]="
          meetingEditCustomTimer ? 'isCustomTimer' : 'isNotCustomTimer'
        "
        style="border-style:solid;border-width:2px;height:30px;margin-left:0px !important;margin-top:5px;max-width:75px;cursor:pointer;"
        (click)="setMeetingEditCustomTimer(null)"
      >
        <div *ngIf="meetingEditCustomTimer" style="height:100%;">
          <div
            class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
            style="vertical-align:middle;padding-top:2px;color:#337ab7"
          ></div>
          <div
            class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
            style="background-color:#337ab7;height:100%;"
          ></div>
        </div>
        <div *ngIf="!meetingEditCustomTimer" style="height:100%;">
          <div
            class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
            style="background-color:#666666;height:100%;"
          ></div>
          <div
            class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
            style="vertical-align:middle;padding-top:2px;color:#666666;text-align:right;"
          ></div>
        </div>
      </div>
    </div>
    <div
      class="col-sm-12 col-md-6 col-lg-9 col-lg-9"
      *ngIf="meetingEditCustomTimer"
      id="timerDiv"
    >
      <a
        >Add Agenda Item<i
          class="fas fa-plus-circle"
          style="color:green;cursor:pointer;padding-left:5px;"
          (click)="addTimer('edit', { name: '', duration: 0, display: '0:00' })"
        ></i
      ></a>
      <br />
      <div class="row" *ngFor="let t of timerEditArr; let i = index">
        <mat-form-field
          appearance="fill"
          class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-xl-6"
          style="font-size:12px;"
        >
          <mat-label style="font-size:15px !important;">Agenda Item</mat-label>
          <input
            name="editTimerName"
            matInput
            placeholder="Name: Item A"
            style="border-bottom:black;border-bottom-width:1px;border-bottom-style: solid;"
            [(ngModel)]="timerEditArr[i].name"
          />
        </mat-form-field>
        <mat-form-field
          appearance="fill"
          class="col-xs-5 col-sm-5 col-md-5 col-lg-5 col-xl-5"
          style="font-size:12px;"
        >
          <mat-label style="font-size:15px !important;"
            >Duration (in minutes)</mat-label
          >
          <input
            name="editTimerDuration"
            matInput
            placeholder="Duration: 30"
            style="border-bottom:black;border-bottom-width:1px;border-bottom-style: solid;"
            [(ngModel)]="timerEditArr[i].duration"
            (change)="setTimerDisplay('edit', i)"
          />
        </mat-form-field>
        <div
          class="col-xs-1 col-sm-1 col-md-1 col-lg-1 col-xl-1"
          style="padding-top:18px;"
        >
          <i
            class="fas fa-times-circle"
            style="color:red;cursor:pointer"
            (click)="removeTimer('edit', i)"
          ></i>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="">
          <button
            type="submit"
            data-dismiss="modal"
            class="btn btn-primary"
            (click)="updateMeetingData()"
          >
            <b>Save</b>
          </button>
        </div>
      </div>
    </div>
  </div>
</ng-template>

<ng-template #meetingNew>
  <div class="modal-header">
    <h4 class="modal-title" id="myModalLabel">Create new meeting</h4>
    <button
      type="button"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
      (click)="modalRef.hide(); clearNewMeetingFields()"
    >
      <span aria-hidden="true">Ã—</span>
    </button>
  </div>
  <div class="modal-body">
    <div class="mt-1">
      <div class="form-group">
        <!-- <label class="input-label">Name</label> -->
        <input
          id="new_MeetingName"
          type="text"
          class="form-control nform-control"
          placeholder="Executive Leadership Team"
          name="newMeetingName"
          [(ngModel)]="meetingNewMeetingName"
        />
      </div>
    </div>
    <hr class="mt-1 mb-1" />
    <div class="meeting-time">
      <div class="modal-div-title">
        <h2>Meeting Time</h2>
        <div>
          <h3>Timezone : GMT+00:00</h3>
        </div>
      </div>
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4">
          <div class="form-group">
            <label class="input-label">Frequency</label>
            <select
              name="newMeetingFrequency"
              [(ngModel)]="meetingNewMeetingFrequency"
              class="form-control nform-control"
            >
              <option *ngFor="let f of frequency" [value]="f.value">{{
                f.viewValue
              }}</option>
            </select>
          </div>
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
          *ngIf="meetingNewMeetingFrequency == 'Weekly'"
        >
          <div class="form-group">
            <label class="input-label">Day of the week</label>
            <select
              [(ngModel)]="meetingNewMeetingInterval"
              name="newMeetingDayOfWeek"
              class="form-control nform-control"
            >
              <option *ngFor="let d of dayOfTheWeek" [value]="d.id">{{
                d.dayOfWeek
              }}</option>
            </select>
          </div>
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
          *ngIf="meetingNewMeetingFrequency == 'Monthly'"
        >
          <div class="form-group">
            <label class="input-label">Day of the month</label>
            <input
              class="form-control nform-control"
              [owlDateTimeTrigger]="dt3"
              [owlDateTime]="dt3"
              [(ngModel)]="meetingNewMeetingInterval"
              name="newMeetingDayOfMonth"
              [value]="meetingNewMeetingInterval"
            />
            <owl-date-time [pickerType]="'calendar'" #dt3></owl-date-time>
          </div>
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
          [ngClass]="{
            'is-not-visible':
              meetingNewMeetingFrequency != 'Monthly' &&
              meetingNewMeetingFrequency != 'Weekly'
          }"
        >
          <div
            *ngIf="
              meetingNewMeetingFrequency != 'Monthly' &&
              meetingNewMeetingFrequency != 'Weekly'
            "
          >
            <mat-form-field appearance="fill" style="width:100%;">
              <mat-label>Day of the month</mat-label>
              <mat-select class="form-control" name="newMeetingDayOfMonth">
              </mat-select>
            </mat-form-field>
          </div>
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
          *ngIf="
            meetingNewMeetingFrequency == 'Monthly' ||
            meetingNewMeetingFrequency == 'Weekly'
          "
        >
          <div class="form-group">
            <label class="input-label">Time</label>
            <input
              class="form-control nform-control"
              [owlDateTimeTrigger]="dt4"
              [owlDateTime]="dt4"
              [(ngModel)]="meetingNewMeetingDate"
              id="new_MeetingTime"
              name="newMeetingTime"
              [value]="meetingNewMeetingDate"
            />
            <owl-date-time
              hour12Timer="true"
              [pickerType]="'timer'"
              #dt4
            ></owl-date-time>
          </div>
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-4 col-lg-4 col-xl-4"
          *ngIf="meetingNewMeetingFrequency == 'Not Recurring'"
        >
          <div class="form-group">
            <label class="input-label">Time</label>
            <input
              class="form-control nform-control"
              [owlDateTimeTrigger]="dt"
              [owlDateTime]="dt"
              [(ngModel)]="meetingNewMeetingDate"
              id="new_MeetingTime"
              name="newMeetingTime"
              [value]="meetingNewMeetingDate"
            />
            <owl-date-time hour12Timer="true" #dt></owl-date-time>
          </div>
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
          *ngIf="
            meetingNewMeetingFrequency == 'Weekly' &&
            meetingNewMeetingInterval &&
            meetingNewMeetingDate
          "
        >
          Recurring {{ meetingNewMeetingFrequency }} on
          {{ dayOfTheWeek[meetingNewMeetingInterval - 1].dayOfWeek }}s at
          {{ meetingNewMeetingDate | date: "shortTime" }}
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
          *ngIf="
            meetingNewMeetingFrequency == 'Monthly' &&
            meetingNewMeetingInterval &&
            meetingNewMeetingDate
          "
        >
          Recurring {{ meetingNewMeetingFrequency }} on the
          {{ dayOfTheMonth[meetingNewMeetingInterval - 1].display }} at
          {{ meetingNewMeetingDate | date: "shortTime" }}
        </div>
        <div
          class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12"
          *ngIf="
            meetingNewMeetingFrequency == 'Not Recurring' &&
            meetingNewMeetingDate
          "
        >
          Non Recurring meeting on {{ meetingNewMeetingDate | date: "EEEE" }}
          {{ meetingNewMeetingDate | date: "LLLL" }}
          {{ meetingNewMeetingDate | date: "dd" }} at
          {{ meetingNewMeetingDate | date: "shortTime" }}
        </div>
      </div>
    </div>
    <hr class="mt-1 mb-1" />
    <div class="agenda-wrapper">
      <div class="row">
        <div class="col-md-4">
          <div class="modal-div-title">
            <h2>Participants</h2>
          </div>
          <div>
            <div class="form-group">
              <label class="input-label">Participants</label>
              <select
                [(ngModel)]="meetingNewMeetingAttendees"
                name="NewMeetingAttendees"
                class="form-control nform-control"
              >
                <option
                  [disabled]="u.uID == uID"
                  *ngFor="let u of orgUserList"
                  [value]="u.uID"
                  >{{ u.name }} {{ u.lname }}</option
                >
              </select>
            </div>
          </div>
        </div>
        <div class="col-md-8">
          <div class="modal-div-title">
            <h2>Agenda</h2>
            <div>
              <h5>Reset to Default</h5>
            </div>
          </div>
          <div>
            <div class="add-agenda-btn">
              <a
                (click)="
                  addTimer('new', { name: '', duration: 0, display: '' })
                "
                ><i class="fas fa-plus"></i>Add New Agenda</a
              >
            </div>
            <div id="timerDiv">
              <div
                class="row align-items-center"
                *ngFor="let t of timerNewArr; let i = index"
              >
                <div class="col-md-5">
                  <div class="form-group">
                    <input
                      name="newTimerName"
                      class="form-control nform-control"
                      matInput
                      placeholder="Name: Item 1"
                      [(ngModel)]="timerNewArr[i].name"
                    />
                  </div>
                </div>
                <div class="col-md-5">
                  <div class="form-group">
                    <input
                      type="number"
                      class="form-control nform-control"
                      name="newTimerDuration"
                      matInput
                      placeholder="Duration: 300"
                      [(ngModel)]="timerNewArr[i].duration"
                      (change)="setTimerDisplay('new', i)"
                    />
                  </div>
                </div>
                <div class="col-md-2 text-center">
                  <img
                    (click)="removeTimer('new', i)"
                    src="assets/images/meeting/x.svg"
                  />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <button type="submit" data-dismiss="modal" class="btn btn-secondary">
      <b>Cancel</b>
    </button>
    <button
      type="submit"
      data-dismiss="modal"
      class="btn btn-primary"
      (click)="createNewMeeting()"
    >
      <b>Create new meeting</b>
    </button>
  </div>
</ng-template>

<ng-template #editMilestone>
  <div class="modal-header">
    <button
      type="button"
      class="close"
      data-dismiss="modal"
      aria-label="Close"
      (click)="modalRef.hide()"
    >
      <span aria-hidden="true">Ã—</span>
    </button>
    <h4 class="modal-title" id="myModalLabel">
      <div class="col-md-12 col-sm-12 col-xs-12 text_center">
        <!-- <img src="{{ driverImg }}"/> -->
      </div>
    </h4>
  </div>
  <div class="modal-body">
    <br />
    <div class="container">
      <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-6">
          <span class="">Milestone</span>
          <input
            name="kpiObjective"
            type="text"
            class="form-control"
            style="padding-bottom:10px;"
            placeholder="Example: Working out"
            name="milestone"
            [(ngModel)]="milestoneMilestoneEdit"
          />
        </div>
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-6">
          <span class="">Due Date</span>
          <input
            name="qty"
            type="date"
            class="form-control"
            style="line-height:normal !important;padding-bottom:9px;"
            placeholder="mm-dd-yyyy"
            name="milestoneDueDate"
            [(ngModel)]="milestoneDueDateEdit"
            (change)="updateQuarterList()"
          />
        </div>
      </div>
      <div class="row">
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-6">
          <mat-form-field appearance="fill" style="width:100%;">
            <mat-label>Status</mat-label>
            <mat-select
              class="form-control"
              [(ngModel)]="milestoneStatusEdit"
              name="milestoneStatus"
            >
              <mat-option *ngFor="let c of charp" [value]="c.value">{{
                c.viewValue
              }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-xs-6">
          <mat-form-field appearance="fill" style="width:100%;">
            <mat-label>Assigned</mat-label>
            <mat-select
              class="form-control"
              [(ngModel)]="milestoneAssignedUidEdit"
              name="milestoneAssigned"
              (selectionChange)="updateQuarterList()"
              disabled
            >
              <mat-option [value]="milestoneEditMilestone.uID">{{
                milestoneEditMilestone.User
              }}</mat-option>
            </mat-select>
          </mat-form-field>
        </div>
      </div>
      <div class="row">
        <div class="col-xl-6 col-lg-6" style="padding-left:1px !important;">
          <div class="col-xl-5 col-lg-5 col-md-6 col-sm-12">
            Recurring
            <div
              class="row"
              [ngClass]="
                milestoneRecurringEdit ? 'isRecurring' : 'isNotRecurring'
              "
              style="border-style:solid;border-width:2px;height:30px;margin-left:10px;margin-bottom:10px;margin-top:5px;max-width:75px;cursor:pointer;"
              (click)="setMilestoneRecurringEdit()"
            >
              <div *ngIf="milestoneRecurringEdit" style="height:100%;">
                <div
                  class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
                  style="vertical-align:middle;padding-top:2px;color:#337ab7"
                ></div>
                <div
                  class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
                  style="background-color:#337ab7;height:100%;"
                ></div>
              </div>
              <div *ngIf="!milestoneRecurringEdit" style="height:100%;">
                <div
                  class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
                  style="background-color:#666666;height:100%;"
                ></div>
                <div
                  class="col-xs-6 col-sm-6 col-md-6 col-lg-6 col-lg-6"
                  style="vertical-align:middle;padding-top:2px;color:#666666;text-align:right;"
                ></div>
              </div>
            </div>
          </div>
          <div
            class="col-xl-7 col-lg-7 col-md-6 col-sm-12"
            style="padding-right:0px !important;"
          >
            <div *ngIf="milestoneRecurringEdit">
              <mat-form-field appearance="fill" style="width:100%;">
                <mat-label>Frequency</mat-label>
                <mat-select
                  class="form-control"
                  [(ngModel)]="milestoneRecurringFrequencyEdit"
                  name="milestoneRecurringFrequency"
                >
                  <mat-option *ngFor="let f of frequency" [value]="f.value">{{
                    f.viewValue
                  }}</mat-option>
                </mat-select>
              </mat-form-field>
            </div>
          </div>
        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
          Comments
          <textarea
            name="milestoneEditNote"
            id="id_MilestoneEditNote"
            [(ngModel)]="milestoneNoteEdit"
            cols="30"
            rows="2"
            class=""
            style="width:100%;margin-top:5px;border-color:#d9d9d9 !important;"
          ></textarea>
        </div>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <div class="row">
      <div class="col-md-12 col-sm-12 col-xs-12">
        <div class="">
          <button
            type="submit"
            data-dismiss="modal"
            class="btn btn-primary"
            *ngIf="
              !milestoneAssignedEdit ||
              !milestoneDueDateEdit ||
              !milestoneMilestoneEdit
            "
            disabled
          >
            <b>Update</b>
          </button>
          <button
            type="submit"
            data-dismiss="modal"
            class="btn btn-primary"
            (click)="updateMilestoneData()"
            *ngIf="
              milestoneAssignedEdit &&
              milestoneDueDateEdit &&
              milestoneMilestoneEdit
            "
          >
            <b>Update</b>
          </button>
          <!-- <button type="submit" data-dismiss="modal" class="btn btn-danger" style='margin-left:0px !important;' (click)='modalRef.hide();showModal(deleteMilestoneTemplate,"modal-sm");'><b>Delete</b></button> -->
        </div>
      </div>
    </div>
  </div>
</ng-template>
